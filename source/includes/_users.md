# Users
Contains non strictly-confidential information about a user.
## Path
`/users/{user}`

where `{user}` is the `uid` obtained from firebase authentication.


## Structure

| Name | Type | Description | Notes
--- |---|------|--
uid|string|Unique ID for the user obtained from firebase auth | [required]
name| string | Full name of the user obtained from firebase auth, or from the app in case of phone auth | [required]
photoUrl | string | URL of the user's profile image | [optional] 
phone | string | Full phone number of the user including the country code | [required] if phone authentication is used. [optional] or [null] otherwise
email | string | Email address of the user | [required] if any auth method apart from phone is used. [optional] or [null] otherwise
createdAt | timestamp | Timestamp of when the user was created | [required] - automatically generated by a cloud function
squareId | string | A unique square ID of the user | [required] - automatically generated by a cloud function once a user is registered to square
currentLocation| geopoint | Lat-long of the current location of the user | [optional]
currentAddress | string | A human readable (address) format of the current location to show in the application | [optional]
marketingConsent | boolean | Whether the user has given us consent to send marketing communications | [required] `default: false`

<aside class="notice">
One of either <code>phone</code> or <code>email</code> is required for each user. We'll use email as the default contact method, unless it is not present.
</aside>

## Subcollection : Private
The private subcollection contains the private data about a user such as payments and personal preferences. This is stored in a separate subcollection to avoid exposing everytime a user object is fetched

### Path
`/users/{user}/private/payment`

### Structure

| Name | Type | Description | Notes
--- |---|------|--
defaultPaymentMethod | map of type [`card`](#users-subcollection-private-structure-card) | Information about the default payment method of the user | [optional]
paymentMethods | array of [`card`](#users-subcollection-private-structure-card) | All the cards a user has attached to their account. They can pick any of these to pay for a purchase | [optional]

#### card
`card : map`

Information about cards used to take payments from the square API and exposable information to show to the UI

| Name | Type | Description | Notes
--- |---|------|--
squareId | string | Unique ID of the card used to take payments | [required]
lastFourDigits | string | Last four digits of the card | [required]
cardBrand | string | The brand of the card | [required]